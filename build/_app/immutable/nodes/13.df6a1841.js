import{s as Z,p as tt,f as m,a as E,g as _,h as Y,A as I,c as C,d as b,j as f,i as j,x as d,C as et,o as at,y as lt,D as st,l as U,m as V,B as O,n as R,K,M as rt,H as nt}from"../chunks/scheduler.2ba080f3.js";import{S as ot,i as it,f as dt,b as ct,d as ut,m as ft,a as pt,t as ht,e as mt}from"../chunks/index.e182e4d1.js";import{e as X}from"../chunks/each.e59479a4.js";import{M as _t}from"../chunks/Modal.8169fecd.js";import{b as gt}from"../chunks/helper.6b2d55c7.js";import{d as H,p as vt,a as N,L as G}from"../chunks/schema.deee8ecc.js";function J(c,t,a){const n=c.slice();return n[11]=t[a],n}function bt(c){let t,a='<div class="text-center">Tidak ada ia</div>';return{c(){t=m("div"),t.innerHTML=a,this.h()},l(n){t=_(n,"DIV",{class:!0,"data-svelte-h":!0}),I(t)!=="svelte-1pq0rqm"&&(t.innerHTML=a),this.h()},h(){f(t,"class","border border-dashed py-20 text-gray-500")},m(n,g){j(n,t,g)},p:lt,d(n){n&&b(t)}}}function yt(c){let t,a,n='<tr><th class="text-left px-4 py-2 font-medium text-gray-900">Tanggal</th> <th class="text-left px-4 py-2 font-medium text-gray-900">Name</th> <th class="text-left px-4 py-2 font-medium text-gray-900">Status</th> <th class="text-left px-4 py-2 font-medium text-gray-900">Notes</th></tr>',g,p,e=X(c[0]),s=[];for(let l=0;l<e.length;l+=1)s[l]=Q(J(c,e,l));return{c(){t=m("table"),a=m("thead"),a.innerHTML=n,g=E(),p=m("tbody");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){t=_(l,"TABLE",{class:!0});var h=Y(t);a=_(h,"THEAD",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-1b4wpof"&&(a.innerHTML=n),g=C(h),p=_(h,"TBODY",{class:!0});var r=Y(p);for(let o=0;o<s.length;o+=1)s[o].l(r);r.forEach(b),h.forEach(b),this.h()},h(){f(a,"class","ltr:text-left rtl:text-right"),f(p,"class","divide-y divide-gray-200"),f(t,"class","min-w-full divide-y-2 divide-gray-200 bg-white text-sm")},m(l,h){j(l,t,h),d(t,a),d(t,g),d(t,p);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(p,null)},p(l,h){if(h&7){e=X(l[0]);let r;for(r=0;r<e.length;r+=1){const o=J(l,e,r);s[r]?s[r].p(o,h):(s[r]=Q(o),s[r].c(),s[r].m(p,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=e.length}},d(l){l&&b(t),st(s,l)}}}function Q(c){let t,a,n=H(c[11].createdAt).format("DD-MM-YYYY")+"",g,p,e,s=c[11].name+"",l,h,r,o=c[11].status+"",M,D,x,v=(c[11].note||"")+"",u,T,L,i,w="Edit",k,A,q;function W(){return c[5](c[11])}return{c(){t=m("tr"),a=m("td"),g=U(n),p=E(),e=m("td"),l=U(s),h=E(),r=m("td"),M=U(o),D=E(),x=m("td"),u=U(v),T=E(),L=m("td"),i=m("button"),i.textContent=w,k=E(),this.h()},l(B){t=_(B,"TR",{});var y=Y(t);a=_(y,"TD",{class:!0});var S=Y(a);g=V(S,n),S.forEach(b),p=C(y),e=_(y,"TD",{class:!0});var z=Y(e);l=V(z,s),z.forEach(b),h=C(y),r=_(y,"TD",{class:!0});var P=Y(r);M=V(P,o),P.forEach(b),D=C(y),x=_(y,"TD",{class:!0});var $=Y(x);u=V($,v),$.forEach(b),T=C(y),L=_(y,"TD",{class:!0});var F=Y(L);i=_(F,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(i)!=="svelte-1w9xbvj"&&(i.textContent=w),F.forEach(b),k=C(y),y.forEach(b),this.h()},h(){f(a,"class","whitespace-nowrap px-4 py-2 text-gray-700"),f(e,"class","whitespace-nowrap px-4 py-2 font-medium text-gray-900"),f(r,"class","whitespace-nowrap px-4 py-2 text-gray-700"),f(x,"class","whitespace-nowrap px-4 py-2 text-gray-700"),f(i,"type","button"),f(i,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"),f(L,"class","whitespace-nowrap px-4 py-2 text-gray-700")},m(B,y){j(B,t,y),d(t,a),d(a,g),d(t,p),d(t,e),d(e,l),d(t,h),d(t,r),d(r,M),d(t,D),d(t,x),d(x,u),d(t,T),d(t,L),d(L,i),d(t,k),A||(q=O(i,"click",W),A=!0)},p(B,y){c=B,y&1&&n!==(n=H(c[11].createdAt).format("DD-MM-YYYY")+"")&&R(g,n),y&1&&s!==(s=c[11].name+"")&&R(l,s),y&1&&o!==(o=c[11].status+"")&&R(M,o),y&1&&v!==(v=(c[11].note||"")+"")&&R(u,v)},d(B){B&&b(t),A=!1,q()}}}function xt(c){let t,a,n,g="Catatan",p,e,s,l,h="Simpan",r,o,M="Hapus Upgrade",D,x;return{c(){t=m("form"),a=m("div"),n=m("label"),n.textContent=g,p=E(),e=m("textarea"),s=E(),l=m("button"),l.textContent=h,r=E(),o=m("button"),o.textContent=M,this.h()},l(v){t=_(v,"FORM",{class:!0});var u=Y(t);a=_(u,"DIV",{class:!0});var T=Y(a);n=_(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),I(n)!=="svelte-rpdbpz"&&(n.textContent=g),p=C(T),e=_(T,"TEXTAREA",{class:!0,id:!0,placeholder:!0}),Y(e).forEach(b),T.forEach(b),s=C(u),l=_(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(l)!=="svelte-1lszuks"&&(l.textContent=h),r=C(u),o=_(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(o)!=="svelte-q13wdd"&&(o.textContent=M),u.forEach(b),this.h()},h(){f(n,"for","pertemuan"),f(n,"class","font-medium"),f(e,"class","bg-gray-50 border border-gray-300 outline-none text-gray-900 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block w-full p-2.5 placeholder-gray-400"),f(e,"id","note"),f(e,"placeholder","Catatan"),f(a,"class","space-y-1"),f(l,"type","submit"),f(l,"class","inline-flex justify-center items-center space-x-2 border font-semibold focus:outline-none w-full px-4 py-3 leading-6 rounded border-yellow-500 bg-yellow-500 text-white hover:text-white hover:bg-yellow-800 hover:border-yellow-800 focus:ring focus:ring-yellow-500 focus:ring-opacity-50 active:bg-yellow-700 active:border-yellow-700"),f(o,"type","button"),f(o,"class","bg-red-50 w-full text-red-500 text-sm px-3 py-2"),f(t,"class","p-4 space-y-4")},m(v,u){j(v,t,u),d(t,a),d(a,n),d(a,p),d(a,e),K(e,c[1].note),d(t,s),d(t,l),d(t,r),d(t,o),D||(x=[O(e,"input",c[6]),O(o,"click",c[4]),O(t,"submit",rt(c[3]))],D=!0)},p(v,u){u&2&&K(e,v[1].note)},d(v){v&&b(t),D=!1,nt(x)}}}function wt(c){let t,a,n,g='<div class="text-xl md:text-3xl">IA</div>',p,e,s,l='<input id="datepicker" class="px-3 py-2 w-full border outline-none focus:border-orange-400" type="text"/>',h,r,o,M,D;function x(i,w){return i[0].length?yt:bt}let v=x(c),u=v(c);function T(i){c[7](i)}let L={width:"max-w-lg",title:"Edit ia",$$slots:{default:[xt]},$$scope:{ctx:c}};return c[2]!==void 0&&(L.show=c[2]),o=new _t({props:L}),tt.push(()=>dt(o,"show",T)),{c(){t=m("div"),a=m("div"),n=m("div"),n.innerHTML=g,p=E(),e=m("div"),s=m("div"),s.innerHTML=l,h=E(),u.c(),r=E(),ct(o.$$.fragment),this.h()},l(i){t=_(i,"DIV",{});var w=Y(t);a=_(w,"DIV",{class:!0});var k=Y(a);n=_(k,"DIV",{class:!0,"data-svelte-h":!0}),I(n)!=="svelte-199wamf"&&(n.innerHTML=g),p=C(k),e=_(k,"DIV",{class:!0});var A=Y(e);s=_(A,"DIV",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-1cjz4d8"&&(s.innerHTML=l),h=C(A),u.l(A),A.forEach(b),k.forEach(b),w.forEach(b),r=C(i),ut(o.$$.fragment,i),this.h()},h(){f(n,"class","flex flex-col md:flex-row gap-3 md:justify-between"),f(s,"class","lg:w-96 max-w-full mb-3"),f(e,"class","mt-10 overflow-x-auto"),f(a,"class","max-w-7xl mx-auto")},m(i,w){j(i,t,w),d(t,a),d(a,n),d(a,p),d(a,e),d(e,s),d(e,h),u.m(e,null),j(i,r,w),ft(o,i,w),D=!0},p(i,[w]){v===(v=x(i))&&u?u.p(i,w):(u.d(1),u=v(i),u&&(u.c(),u.m(e,null)));const k={};w&16386&&(k.$$scope={dirty:w,ctx:i}),!M&&w&4&&(M=!0,k.show=i[2],et(()=>M=!1)),o.$set(k)},i(i){D||(pt(o.$$.fragment,i),D=!0)},o(i){ht(o.$$.fragment,i),D=!1},d(i){i&&(b(t),b(r)),u.d(),mt(o,i)}}}function Dt(c,t,a){let n=[],g=H().subtract(1,"month").format("YYYY-MM-DD"),p=H().format("YYYY-MM-DD"),e={};async function s(){a(0,n=await N.ia.where("createdAt").between(g,H(p).add(1,"day").format("YYYY-MM-DD")).reverse().sortBy("createdAt"))}let l=!1;function h(){e.id?N.ia.put(e):(a(1,e.id=gt(),e),a(1,e.createdAt=H().format("YYYY-MM-DD"),e),N.ia.add(e)),G("ia",e),a(2,l=!1),s()}vt.subscribe("ia",()=>{s()});function r(){N.ia.delete(e.id),a(2,l=!1),s(),G("ia",e,"delete")}at(()=>{setTimeout(()=>{new easepick.create({element:document.getElementById("datepicker"),css:["https://cdn.jsdelivr.net/npm/@easepick/core@1.2.1/dist/index.css","https://cdn.jsdelivr.net/npm/@easepick/range-plugin@1.2.1/dist/index.css"],plugins:["RangePlugin"],RangePlugin:{tooltip:!0},setup(v){v.on("select",u=>{const{end:T,start:L}=u.detail;g=H(L).format("YYYY-MM-DD"),p=H(T).format("YYYY-MM-DD"),s()})}}).setDateRange(g,p),s()},100)});const o=x=>{a(1,e=x),a(2,l=!0)};function M(){e.note=this.value,a(1,e)}function D(x){l=x,a(2,l)}return[n,e,l,h,r,o,M,D]}class Lt extends ot{constructor(t){super(),it(this,t,Dt,wt,Z,{})}}export{Lt as component};
