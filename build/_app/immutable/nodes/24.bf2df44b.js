import{s as ne,p as re,f as c,a as M,g as f,h as Y,A as H,c as E,d as b,j as u,i as S,x as s,C as oe,o as ie,I as de,y as ue,D as ce,l as Q,m as W,B as F,n as Z,K as j,J as fe,L as te,M as pe,H as he}from"../chunks/scheduler.128a5e20.js";import{S as me,i as _e,f as ve,b as ge,d as be,m as ye,a as xe,t as we,e as Ce}from"../chunks/index.52f559ae.js";import{e as ae}from"../chunks/each.e59479a4.js";import{M as De}from"../chunks/Modal.7d5b1e41.js";import{f as ke}from"../chunks/helper.757d3337.js";import{d as U,p as Ye,a as ee,L as Te}from"../chunks/schema.58d4bc8c.js";function le(d,e,a){const o=d.slice();return o[12]=e[a],o}function Me(d){let e,a='<div class="text-center">Tidak ada upgrade</div>';return{c(){e=c("div"),e.innerHTML=a,this.h()},l(o){e=f(o,"DIV",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1ak6xu"&&(e.innerHTML=a),this.h()},h(){u(e,"class","border border-dashed py-20 text-gray-500")},m(o,x){S(o,e,x)},p:ue,d(o){o&&b(e)}}}function Ee(d){let e,a,o='<tr><th class="text-left px-4 py-2 font-medium text-gray-900">Tanggal</th> <th class="text-left px-4 py-2 font-medium text-gray-900">Name</th> <th class="text-left px-4 py-2 font-medium text-gray-900">Status</th> <th class="text-left px-4 py-2 font-medium text-gray-900">Notes</th></tr>',x,g,t=ae(d[0]),r=[];for(let n=0;n<t.length;n+=1)r[n]=se(le(d,t,n));return{c(){e=c("table"),a=c("thead"),a.innerHTML=o,x=M(),g=c("tbody");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=f(n,"TABLE",{class:!0});var h=Y(e);a=f(h,"THEAD",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1b4wpof"&&(a.innerHTML=o),x=E(h),g=f(h,"TBODY",{class:!0});var i=Y(g);for(let m=0;m<r.length;m+=1)r[m].l(i);i.forEach(b),h.forEach(b),this.h()},h(){u(a,"class","ltr:text-left rtl:text-right"),u(g,"class","divide-y divide-gray-200"),u(e,"class","min-w-full divide-y-2 divide-gray-200 bg-white text-sm")},m(n,h){S(n,e,h),s(e,a),s(e,x),s(e,g);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(g,null)},p(n,h){if(h&7){t=ae(n[0]);let i;for(i=0;i<t.length;i+=1){const m=le(n,t,i);r[i]?r[i].p(m,h):(r[i]=se(m),r[i].c(),r[i].m(g,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=t.length}},d(n){n&&b(e),ce(r,n)}}}function se(d){let e,a,o=U(d[12].createdAt).format("DD-MM-YYYY")+"",x,g,t,r=d[12].name+"",n,h,i,m=d[12].status+"",_,w,L,v=(d[12].note||"")+"",y,D,I,l,C="Edit",T,k,A;function J(){return d[4](d[12])}return{c(){e=c("tr"),a=c("td"),x=Q(o),g=M(),t=c("td"),n=Q(r),h=M(),i=c("td"),_=Q(m),w=M(),L=c("td"),y=Q(v),D=M(),I=c("td"),l=c("button"),l.textContent=C,T=M(),this.h()},l(B){e=f(B,"TR",{});var p=Y(e);a=f(p,"TD",{class:!0});var V=Y(a);x=W(V,o),V.forEach(b),g=E(p),t=f(p,"TD",{class:!0});var O=Y(t);n=W(O,r),O.forEach(b),h=E(p),i=f(p,"TD",{class:!0});var q=Y(i);_=W(q,m),q.forEach(b),w=E(p),L=f(p,"TD",{class:!0});var R=Y(L);y=W(R,v),R.forEach(b),D=E(p),I=f(p,"TD",{class:!0});var z=Y(I);l=f(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(l)!=="svelte-1w9xbvj"&&(l.textContent=C),z.forEach(b),T=E(p),p.forEach(b),this.h()},h(){u(a,"class","whitespace-nowrap px-4 py-2 text-gray-700"),u(t,"class","whitespace-nowrap px-4 py-2 font-medium text-gray-900"),u(i,"class","whitespace-nowrap px-4 py-2 text-gray-700"),u(L,"class","whitespace-nowrap px-4 py-2 text-gray-700"),u(l,"type","button"),u(l,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"),u(I,"class","whitespace-nowrap px-4 py-2 text-gray-700")},m(B,p){S(B,e,p),s(e,a),s(a,x),s(e,g),s(e,t),s(t,n),s(e,h),s(e,i),s(i,_),s(e,w),s(e,L),s(L,y),s(e,D),s(e,I),s(I,l),s(e,T),k||(A=F(l,"click",J),k=!0)},p(B,p){d=B,p&1&&o!==(o=U(d[12].createdAt).format("DD-MM-YYYY")+"")&&Z(x,o),p&1&&r!==(r=d[12].name+"")&&Z(n,r),p&1&&m!==(m=d[12].status+"")&&Z(_,m),p&1&&v!==(v=(d[12].note||"")+"")&&Z(y,v)},d(B){B&&b(e),k=!1,A()}}}function Le(d){let e,a,o,x="Nama",g,t,r,n,h,i="Status",m,_,w,L="HU Baru",v,y="HU ke CP",D,I="CP ke P",l,C="P ke K",T,k,A,J="Catatan",B,p,V,O,q="Simpan",R,z;return{c(){e=c("form"),a=c("div"),o=c("label"),o.textContent=x,g=M(),t=c("input"),r=M(),n=c("div"),h=c("label"),h.textContent=i,m=M(),_=c("select"),w=c("option"),w.textContent=L,v=c("option"),v.textContent=y,D=c("option"),D.textContent=I,l=c("option"),l.textContent=C,T=M(),k=c("div"),A=c("label"),A.textContent=J,B=M(),p=c("textarea"),V=M(),O=c("button"),O.textContent=q,this.h()},l(N){e=f(N,"FORM",{class:!0});var P=Y(e);a=f(P,"DIV",{class:!0});var X=Y(a);o=f(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(o)!=="svelte-nu0yl2"&&(o.textContent=x),g=E(X),t=f(X,"INPUT",{class:!0,type:!0,id:!0,placeholder:!0}),X.forEach(b),r=E(P),n=f(P,"DIV",{class:!0});var $=Y(n);h=f($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(h)!=="svelte-5o26ou"&&(h.textContent=i),m=E($),_=f($,"SELECT",{class:!0,id:!0});var K=Y(_);w=f(K,"OPTION",{"data-svelte-h":!0}),H(w)!=="svelte-1vlgy94"&&(w.textContent=L),v=f(K,"OPTION",{"data-svelte-h":!0}),H(v)!=="svelte-1556ci6"&&(v.textContent=y),D=f(K,"OPTION",{"data-svelte-h":!0}),H(D)!=="svelte-17mcjfo"&&(D.textContent=I),l=f(K,"OPTION",{"data-svelte-h":!0}),H(l)!=="svelte-1x1lojy"&&(l.textContent=C),K.forEach(b),$.forEach(b),T=E(P),k=f(P,"DIV",{class:!0});var G=Y(k);A=f(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),H(A)!=="svelte-rpdbpz"&&(A.textContent=J),B=E(G),p=f(G,"TEXTAREA",{class:!0,id:!0,placeholder:!0}),Y(p).forEach(b),G.forEach(b),V=E(P),O=f(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(O)!=="svelte-1lszuks"&&(O.textContent=q),P.forEach(b),this.h()},h(){u(o,"for","name"),u(o,"class","font-medium"),t.required=!0,u(t,"class","bg-gray-50 border border-gray-300 outline-none text-gray-900 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block w-full p-2.5 placeholder-gray-400"),u(t,"type","text"),u(t,"id","name"),u(t,"placeholder","Masukan Nama"),u(a,"class","space-y-1"),u(h,"for","status"),u(h,"class","font-medium"),w.__value="HU Baru",j(w,w.__value),v.__value="HU ke CP",j(v,v.__value),D.__value="CP ke P",j(D,D.__value),l.__value="P ke K",j(l,l.__value),_.required=!0,u(_,"class","bg-gray-50 border border-gray-300 outline-none text-gray-900 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block w-full p-2.5 placeholder-gray-400"),u(_,"id","status"),d[1].status===void 0&&fe(()=>d[6].call(_)),u(n,"class","space-y-1"),u(A,"for","pertemuan"),u(A,"class","font-medium"),u(p,"class","bg-gray-50 border border-gray-300 outline-none text-gray-900 text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block w-full p-2.5 placeholder-gray-400"),u(p,"id","note"),u(p,"placeholder","Catatan"),u(k,"class","space-y-1"),u(O,"type","submit"),u(O,"class","inline-flex justify-center items-center space-x-2 border font-semibold focus:outline-none w-full px-4 py-3 leading-6 rounded border-yellow-500 bg-yellow-500 text-white hover:text-white hover:bg-yellow-800 hover:border-yellow-800 focus:ring focus:ring-yellow-500 focus:ring-opacity-50 active:bg-yellow-700 active:border-yellow-700"),u(e,"class","p-4 space-y-4")},m(N,P){S(N,e,P),s(e,a),s(a,o),s(a,g),s(a,t),j(t,d[1].name),s(e,r),s(e,n),s(n,h),s(n,m),s(n,_),s(_,w),s(_,v),s(_,D),s(_,l),te(_,d[1].status,!0),s(e,T),s(e,k),s(k,A),s(k,B),s(k,p),j(p,d[1].note),s(e,V),s(e,O),R||(z=[F(t,"input",d[5]),F(_,"change",d[6]),F(p,"input",d[7]),F(e,"submit",pe(d[3]))],R=!0)},p(N,P){P&2&&t.value!==N[1].name&&j(t,N[1].name),P&2&&te(_,N[1].status),P&2&&j(p,N[1].note)},d(N){N&&b(e),R=!1,he(z)}}}function Ie(d){let e,a,o,x='<div class="text-xl md:text-3xl">Upgrade</div>',g,t,r,n='<input id="datepicker" class="px-3 py-2 w-full border outline-none focus:border-orange-400" type="text"/>',h,i,m,_,w;function L(l,C){return l[0].length?Ee:Me}let v=L(d),y=v(d);function D(l){d[8](l)}let I={width:"max-w-lg",title:"Edit upgrade",$$slots:{default:[Le]},$$scope:{ctx:d}};return d[2]!==void 0&&(I.show=d[2]),m=new De({props:I}),re.push(()=>ve(m,"show",D)),{c(){e=c("div"),a=c("div"),o=c("div"),o.innerHTML=x,g=M(),t=c("div"),r=c("div"),r.innerHTML=n,h=M(),y.c(),i=M(),ge(m.$$.fragment),this.h()},l(l){e=f(l,"DIV",{});var C=Y(e);a=f(C,"DIV",{class:!0});var T=Y(a);o=f(T,"DIV",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-1vmldh7"&&(o.innerHTML=x),g=E(T),t=f(T,"DIV",{class:!0});var k=Y(t);r=f(k,"DIV",{class:!0,"data-svelte-h":!0}),H(r)!=="svelte-1cjz4d8"&&(r.innerHTML=n),h=E(k),y.l(k),k.forEach(b),T.forEach(b),C.forEach(b),i=E(l),be(m.$$.fragment,l),this.h()},h(){u(o,"class","flex flex-col md:flex-row gap-3 md:justify-between"),u(r,"class","lg:w-96 max-w-full mb-3"),u(t,"class","mt-10 overflow-x-auto"),u(a,"class","max-w-7xl mx-auto")},m(l,C){S(l,e,C),s(e,a),s(a,o),s(a,g),s(a,t),s(t,r),s(t,h),y.m(t,null),S(l,i,C),ye(m,l,C),w=!0},p(l,[C]){v===(v=L(l))&&y?y.p(l,C):(y.d(1),y=v(l),y&&(y.c(),y.m(t,null)));const T={};C&32770&&(T.$$scope={dirty:C,ctx:l}),!_&&C&4&&(_=!0,T.show=l[2],oe(()=>_=!1)),m.$set(T)},i(l){w||(xe(m.$$.fragment,l),w=!0)},o(l){we(m.$$.fragment,l),w=!1},d(l){l&&(b(e),b(i)),y.d(),Ce(m,l)}}}function Pe(d,e,a){let o=[],x=U().subtract(1,"month").format("YYYY-MM-DD"),g=U().format("YYYY-MM-DD"),t={};async function r(){a(0,o=await ee.upgrade.where("createdAt").between(x,U(g).add(1,"day").format("YYYY-MM-DD")).reverse().sortBy("createdAt"))}let n=!1;function h(){t.id?ee.upgrade.put(t):(a(1,t.id=ke(),t),a(1,t.createdAt=U().format("YYYY-MM-DD"),t),ee.upgrade.add(t)),Te("upgrade",t),a(2,n=!1),r()}Ye.subscribe("upgrade",()=>{r()}),ie(()=>{setTimeout(()=>{new easepick.create({element:document.getElementById("datepicker"),css:["https://cdn.jsdelivr.net/npm/@easepick/core@1.2.1/dist/index.css","https://cdn.jsdelivr.net/npm/@easepick/range-plugin@1.2.1/dist/index.css"],plugins:["RangePlugin"],RangePlugin:{tooltip:!0},setup(y){y.on("select",D=>{const{end:I,start:l}=D.detail;x=U(l).format("YYYY-MM-DD"),g=U(I).format("YYYY-MM-DD"),r()})}}).setDateRange(x,g),r()},100)});const i=v=>{a(1,t=v),a(2,n=!0)};function m(){t.name=this.value,a(1,t)}function _(){t.status=de(this),a(1,t)}function w(){t.note=this.value,a(1,t)}function L(v){n=v,a(2,n)}return[o,t,n,h,i,m,_,w,L]}class Ue extends me{constructor(e){super(),_e(this,e,Pe,Ie,ne,{})}}export{Ue as component};
